"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const dotenv_1 = require("dotenv");
const client_1 = require("../src/client");
(0, dotenv_1.config)(); // Loads API key from .env if available
let client;
try {
    console.log('API_KEY exists:', Boolean(process.env.API_KEY));
    const apiKey = process.env.API_KEY || '';
    client = new client_1.CIQClient(apiKey);
    console.log('CIQClient initialised success');
}
catch (ex) {
    console.error('Could not initialise CIQClient', ex);
    process.exit(1);
}
async function runExample() {
    try {
        await client.ingestFile('assets/eco101.pdf');
        const query = 'When was Indiaâ€™s first official census operation undertaken?';
        const response = await client.ragQuery(query);
        console.log('Query response is ', response);
    }
    catch (error) {
        console.error('Error in CIQ example:', error);
        process.exit(1);
    }
}
runExample();
